-- 古诗词赏析网站示例数据插入脚本
-- 注意：需要先执行 database_schema.sql 创建表结构
-- 请确保已连接到正确的数据库

-- 插入诗词数据（注意：需要先插入朝代和诗人数据）
INSERT INTO poems (title, poet_id, dynasty_id, content_type, content, full_content, analysis, theme, difficulty_level) VALUES
('静夜思', 1, 1, '诗', 
 '["床前明月光，疑是地上霜。", "举头望明月，低头思故乡。"]',
 '床前明月光，疑是地上霜。\n举头望明月，低头思故乡。',
 '这首诗写的是在寂静的月夜思念家乡的感受。诗的前两句，是写诗人在作客他乡的特定环境中一刹那间所产生的错觉。一个独处他乡的人，白天奔波忙碌，倒还能冲淡离愁，然而一到夜深人静的时候，心头就难免泛起阵阵思念故乡的波澜。',
 '思乡', '简单'),

('春晓', 3, 1, '诗',
 '["春眠不觉晓，处处闻啼鸟。", "夜来风雨声，花落知多少。"]',
 '春眠不觉晓，处处闻啼鸟。\n夜来风雨声，花落知多少。',
 '这首小诗初读似觉平淡无奇，反复读之，便觉诗中别有天地。它的艺术魅力不在于华丽的辞藻，不在于奇绝的艺术手法，而在于它的韵味。整首诗的风格就像行云流水一样平易自然，然而悠远深厚，独臻妙境。',
 '春天', '简单'),

('登鹳雀楼', 4, 1, '诗',
 '["白日依山尽，黄河入海流。", "欲穷千里目，更上一层楼。"]',
 '白日依山尽，黄河入海流。\n欲穷千里目，更上一层楼。',
 '这首诗写诗人在登高望远中表现出来的不凡的胸襟抱负，反映了盛唐时期人们积极向上的进取精神。前两句写所见，后两句写所感。',
 '励志', '中等'),

('相思', 5, 1, '诗',
 '["红豆生南国，春来发几枝。", "愿君多采撷，此物最相思。"]',
 '红豆生南国，春来发几枝。\n愿君多采撷，此物最相思。',
 '这是借咏物而寄相思的诗，是眷怀友人之作。全诗情调健美高雅，怀思饱满奔放，语言朴素无华，韵律和谐柔美。',
 '爱情', '简单'),

('江雪', 2, 1, '诗',
 '["千山鸟飞绝，万径人踪灭。", "孤舟蓑笠翁，独钓寒江雪。"]',
 '千山鸟飞绝，万径人踪灭。\n孤舟蓑笠翁，独钓寒江雪。',
 '这首诗描绘了一幅江乡雪景图，塑造了渔翁的形象。诗中运用典型概括的手法，选择千山万径，人鸟绝迹这种最能表现山野严寒的景物，描绘大雪纷飞，天寒地冻的图景。',
 '冬天', '中等'),

('悯农', 1, 1, '诗',
 '["锄禾日当午，汗滴禾下土。", "谁知盘中餐，粒粒皆辛苦。"]',
 '锄禾日当午，汗滴禾下土。\n谁知盘中餐，粒粒皆辛苦。',
 '这首诗反映了农民辛勤劳动的情景，表达了珍惜粮食的思想。诗中通过具体的劳动场景，生动地描绘了农民在烈日下辛勤耕作的情景。',
 '劳动', '简单'),

('水调歌头·明月几时有', 6, 2, '词',
 '["明月几时有？把酒问青天。", "不知天上宫阙，今夕是何年。"]',
 '明月几时有？把酒问青天。\n不知天上宫阙，今夕是何年。\n我欲乘风归去，又恐琼楼玉宇，高处不胜寒。\n起舞弄清影，何似在人间。',
 '此词是中秋望月怀人之作，表达了对胞弟苏辙的无限怀念。词人运用形象描绘手法，勾勒出一种皓月当空、亲人千里、孤高旷远的境界氛围。',
 '月亮', '困难'),

('声声慢·寻寻觅觅', 7, 2, '词',
 '["寻寻觅觅，冷冷清清，凄凄惨惨戚戚。", "乍暖还寒时候，最难将息。"]',
 '寻寻觅觅，冷冷清清，凄凄惨惨戚戚。\n乍暖还寒时候，最难将息。\n三杯两盏淡酒，怎敌他、晚来风急？\n雁过也，正伤心，却是旧时相识。',
 '这首词通过描写残秋所见、所闻、所感，抒发自己因国破家亡、天涯沦落而产生的孤寂落寞、悲凉愁苦的心绪，具有浓厚的时代色彩。',
 '忧伤', '困难'),

('将进酒', 1, 1, '诗',
 '["君不见黄河之水天上来，奔流到海不复回。", "君不见高堂明镜悲白发，朝如青丝暮成雪。"]',
 '君不见黄河之水天上来，奔流到海不复回。\n君不见高堂明镜悲白发，朝如青丝暮成雪。\n人生得意须尽欢，莫使金樽空对月。\n天生我材必有用，千金散尽还复来。',
 '这首诗是李白饮酒诗的巅峰之作，充分展现了诗人豪放不羁的性格和乐观自信的人生态度。诗中运用夸张手法，气势磅礴，语言奔放。',
 '饮酒', '中等'),

('望岳', 2, 1, '诗',
 '["岱宗夫如何？齐鲁青未了。", "造化钟神秀，阴阳割昏晓。"]',
 '岱宗夫如何？齐鲁青未了。\n造化钟神秀，阴阳割昏晓。\n荡胸生曾云，决眦入归鸟。\n会当凌绝顶，一览众山小。',
 '这首诗是杜甫青年时期的作品，通过描绘泰山的雄伟壮丽，抒发了诗人积极进取的人生态度和远大的政治抱负。',
 '山水', '简单'),

('赋得古原草送别', 6, 1, '诗',
 '["离离原上草，一岁一枯荣。", "野火烧不尽，春风吹又生。"]',
 '离离原上草，一岁一枯荣。\n野火烧不尽，春风吹又生。\n远芳侵古道，晴翠接荒城。\n又送王孙去，萋萋满别情。',
 '这首诗通过对古原野草的描绘，抒发送别友人时的依依惜别之情。诗中"野火烧不尽，春风吹又生"成为千古名句。',
 '离别', '简单'),

('锦瑟', 8, 1, '诗',
 '["锦瑟无端五十弦，一弦一柱思华年。", "庄生晓梦迷蝴蝶，望帝春心托杜鹃。"]',
 '锦瑟无端五十弦，一弦一柱思华年。\n庄生晓梦迷蝴蝶，望帝春心托杜鹃。\n沧海月明珠有泪，蓝田日暖玉生烟。\n此情可待成追忆，只是当时已惘然。',
 '这首诗是李商隐的代表作之一，意境朦胧，情感深沉。诗中运用大量典故，表达了对逝去时光的追忆和人生的感慨。',
 '怀古', '困难'),

('清明', 9, 1, '诗',
 '["清明时节雨纷纷，路上行人欲断魂。", "借问酒家何处有？牧童遥指杏花村。"]',
 '清明时节雨纷纷，路上行人欲断魂。\n借问酒家何处有？牧童遥指杏花村。',
 '这首诗描绘了清明时节的景象，语言清新自然，意境深远。诗中"雨纷纷"、"欲断魂"等词语生动地表现了清明时节的特殊氛围。',
 '春天', '简单'),

('青玉案·元夕', 10, 2, '词',
 '["东风夜放花千树，更吹落、星如雨。", "宝马雕车香满路。"]',
 '东风夜放花千树，更吹落、星如雨。\n宝马雕车香满路。\n凤箫声动，玉壶光转，一夜鱼龙舞。',
 '这首词描写元宵佳节的热闹景象，语言华丽，意境优美。词中运用比喻和夸张手法，生动地展现了元宵夜的繁华场面。',
 '欢乐', '中等'),

('破阵子·为陈同甫赋壮词以寄之', 11, 2, '词',
 '["醉里挑灯看剑，梦回吹角连营。", "八百里分麾下炙，五十弦翻塞外声。"]',
 '醉里挑灯看剑，梦回吹角连营。\n八百里分麾下炙，五十弦翻塞外声。\n沙场秋点兵。\n马作的卢飞快，弓如霹雳弦惊。',
 '这首词是辛弃疾的代表作之一，表达了词人渴望收复失地、报效国家的壮志豪情。词风豪放，气势磅礴。',
 '爱国', '中等'),

('钗头凤·红酥手', 12, 2, '词',
 '["红酥手，黄縢酒，满城春色宫墙柳。", "东风恶，欢情薄。"]',
 '红酥手，黄縢酒，满城春色宫墙柳。\n东风恶，欢情薄。\n一怀愁绪，几年离索。\n错、错、错。',
 '这首词是陆游为前妻唐婉所作，表达了词人对逝去爱情的深深怀念和无限伤感。词情真挚，感人至深。',
 '爱情', '中等'),

('雨霖铃·寒蝉凄切', 13, 2, '词',
 '["寒蝉凄切，对长亭晚，骤雨初歇。", "都门帐饮无绪，留恋处，兰舟催发。"]',
 '寒蝉凄切，对长亭晚，骤雨初歇。\n都门帐饮无绪，留恋处，兰舟催发。\n执手相看泪眼，竟无语凝噎。\n念去去，千里烟波，暮霭沉沉楚天阔。',
 '这首词是柳永的代表作，描写了离别时的伤感情绪。词中情景交融，语言优美，是婉约词的典范之作。',
 '离别', '中等'),

('浣溪沙·一曲新词酒一杯', 14, 2, '词',
 '["一曲新词酒一杯，去年天气旧亭台。", "夕阳西下几时回？"]',
 '一曲新词酒一杯，去年天气旧亭台。\n夕阳西下几时回？\n无可奈何花落去，似曾相识燕归来。\n小园香径独徘徊。',
 '这首词表达了词人对时光流逝的感慨和对人生无常的思考。词中"无可奈何花落去，似曾相识燕归来"成为千古名句。',
 '哲理', '简单'),

('虞美人·春花秋月何时了', 15, 2, '词',
 '["春花秋月何时了？往事知多少。", "小楼昨夜又东风，故国不堪回首月明中。"]',
 '春花秋月何时了？往事知多少。\n小楼昨夜又东风，故国不堪回首月明中。\n雕栏玉砌应犹在，只是朱颜改。\n问君能有几多愁？恰似一江春水向东流。',
 '这首词是李煜被俘后的作品，表达了对故国的深深怀念和亡国之痛。词情真挚，感人至深。',
 '忧愁', '困难'),

('木兰花·拟古决绝词柬友', 16, 5, '词',
 '["人生若只如初见，何事秋风悲画扇。", "等闲变却故人心，却道故人心易变。"]',
 '人生若只如初见，何事秋风悲画扇。\n等闲变却故人心，却道故人心易变。\n骊山语罢清宵半，泪雨零铃终不怨。\n何如薄幸锦衣郎，比翼连枝当日愿。',
 '这首词是纳兰性德的代表作，表达了对爱情易变的感慨和对真挚情感的向往。词风婉约，情感深沉。',
 '爱情', '中等'),

('己亥杂诗·其五', 17, 5, '诗',
 '["浩荡离愁白日斜，吟鞭东指即天涯。", "落红不是无情物，化作春泥更护花。"]',
 '浩荡离愁白日斜，吟鞭东指即天涯。\n落红不是无情物，化作春泥更护花。',
 '这首诗是龚自珍的代表作之一，表达了诗人虽然离开官场，但仍然关心国家命运的爱国情怀。诗中"落红不是无情物，化作春泥更护花"成为千古名句。',
 '爱国', '简单');

-- 插入诗词标签关联数据
INSERT INTO poem_tags (poem_id, tag_id) VALUES
(1, 1), (1, 2),  -- 静夜思：思乡、月亮
(2, 3), (2, 4),  -- 春晓：春天、自然
(3, 8), (3, 6),  -- 登鹳雀楼：豪放、边塞
(4, 5), (4, 1),  -- 相思：爱情、思乡
(5, 4), (5, 7),  -- 江雪：自然、山水
(6, 4),          -- 悯农：自然
(7, 2), (7, 8),  -- 水调歌头：月亮、豪放
(8, 9), (8, 5),  -- 声声慢：婉约、爱情
(9, 17), (9, 8), -- 将进酒：饮酒、豪放
(10, 7), (10, 4), -- 望岳：山水、自然
(11, 14), (11, 4), -- 赋得古原草送别：离别、自然
(12, 15), (12, 9), -- 锦瑟：怀古、婉约
(13, 3), (13, 14), -- 清明：春天、离别
(14, 18), (14, 19), -- 青玉案·元夕：忧愁、欢乐
(15, 16), (15, 8), -- 破阵子：爱国、豪放
(16, 5), (16, 14), -- 钗头凤：爱情、离别
(17, 14), (17, 9), -- 雨霖铃：离别、婉约
(18, 20), (18, 9), -- 浣溪沙：哲理、婉约
(19, 18), (19, 14), -- 虞美人：忧愁、离别
(20, 5), (20, 9), -- 木兰花：爱情、婉约
(21, 16), (21, 4); -- 己亥杂诗：爱国、自然

-- 插入示例用户数据
INSERT INTO users (username, email, password_hash, bio, role) VALUES
('admin', 'admin@poem.com', '$2b$10$examplehash', '网站管理员', 'admin'),
('诗词爱好者', 'user1@poem.com', '$2b$10$examplehash', '热爱古典诗词的普通用户', 'user'),
('文学研究者', 'researcher@poem.com', '$2b$10$examplehash', '专注于古典文学研究', 'user');

-- 插入用户收藏数据
INSERT INTO user_favorites (user_id, poem_id) VALUES
(2, 1), (2, 3), (2, 5), (2, 9), (2, 10),  -- 用户1收藏静夜思、登鹳雀楼、江雪、将进酒、望岳
(3, 2), (3, 4), (3, 7), (3, 12), (3, 18);  -- 用户2收藏春晓、相思、水调歌头、锦瑟、浣溪沙

-- 插入评论数据
INSERT INTO comments (user_id, poem_id, content, rating, like_count) VALUES
(2, 1, '这首诗让我想起了远方的家乡，每次读都很有感触。', 5, 12),
(3, 1, '李白的静夜思真是千古绝唱，简单的语言表达深刻的情感。', 5, 8),
(2, 2, '孟浩然的春晓描绘了春天的美好，语言清新自然。', 4, 5),
(3, 7, '苏轼的水调歌头意境深远，不愧是中秋词的巅峰之作。', 5, 15),
(2, 9, '李白的将进酒气势磅礴，展现了盛唐气象。', 5, 8),
(3, 10, '杜甫的望岳展现了诗人远大的抱负。', 5, 6),
(2, 12, '李商隐的锦瑟意境深远，令人回味无穷。', 4, 7),
(3, 18, '晏殊的浣溪沙蕴含深刻的人生哲理。', 5, 9);

-- 插入浏览历史数据
INSERT INTO view_history (user_id, poem_id, view_count) VALUES
(2, 1, 5), (2, 2, 3), (2, 3, 2), (2, 9, 4), (2, 10, 3),
(3, 1, 8), (3, 7, 6), (3, 4, 4), (3, 12, 5), (3, 18, 7);

COMMIT;

-- 查询验证数据
SELECT '诗词数据统计:' AS info;
SELECT COUNT(*) as poem_count FROM poems;

SELECT '诗人数据统计:' AS info;  
SELECT p.name as poet_name, d.name as dynasty, COUNT(po.id) as poem_count
FROM poets p 
LEFT JOIN poems po ON p.id = po.poet_id 
JOIN dynasties d ON p.dynasty_id = d.id
GROUP BY p.id, p.name, d.name
ORDER BY poem_count DESC;

SELECT '热门诗词排行:' AS info;
SELECT po.title, p.name as author, d.name as dynasty, po.view_count
FROM poems po
JOIN poets p ON po.poet_id = p.id
JOIN dynasties d ON po.dynasty_id = d.id
ORDER BY po.view_count DESC
LIMIT 5;